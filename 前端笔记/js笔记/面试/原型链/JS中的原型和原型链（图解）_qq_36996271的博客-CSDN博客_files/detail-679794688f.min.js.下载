function setCopyBtn(){$(".CopyToClipboard").each(function(){var e=new ZeroClipboard.Client;e.setHandCursor(!0),e.addEventListener("load",function(e){}),e.addEventListener("mouseOver",function(e){var t=e.movie.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),e.setText(t)}),e.addEventListener("complete",function(e,t){alert("代码已经复制到你的剪贴板。")}),e.glue(this,this.parentNode)})}function computePos(){"object"==typeof toolBar&&(toolBar.setPosX(),toolBar.computePositon())}function baidudatatemp(e,t){var o=highlight.map(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")});o="("+o.join("|")+")";var n=new RegExp(o,"gi"),i=/<[^>]*>/g,a=e["abstract"].replace(i,"").replace(n,"<em>$1</em>"),s=e.dispTime.replace(/^(\d*)-/,""),r=e.linkUrl,c=e.title.replace(i,"").replace(n,"<em>$1</em>"),l='<div class="recommend-item-box baiduSearch" data-report-view=\'{"mod":"popu_'+("skin3-template"==curSkin?"387":"614")+'","dest":"'+r+'","strategy":"searchFromBaidu1","ab":"new","index":"'+t+'"}\'>                  <h4 class="text-truncate oneline"><a href="'+r+'" target="_blank" data-report-click=\'{"mod":"popu_'+("skin3-template"==curSkin?"387":"614")+'","dest":"'+r+'","strategy":"searchFromBaidu1","ab":"new","index":"'+t+'"}\' data-report-query="utm_medium=distribute.pc_relevant.none-task-blog-baidujs-'+t+'">'+c+'</a></h4><div class="info-box d-flex align-content-center"><p><span class="date">'+s+'</span></p></div><div class="desc"><a href="'+r+'" target="_blank" data-report-click=\'{"mod":"popu_'+("skin3-template"==curSkin?"387":"614")+'","dest":"'+r+'","strategy":"searchFromBaidu1","ab":"new","index":"'+t+'"}\' data-report-query="utm_medium=distribute.pc_relevant.none-task-blog-baidujs-'+t+'">'+a+"</a></div></div>";return l}function trackByGraylog(e,t){var o=window.location.protocol+"//statistic.csdn.net/";$.get(o+e,t)}function remoteData(){var e=function(){window.csdn.isRunBaidu||(showResult(),window.csdn.isRunBaidu=void 0)};baiduKey?(csdn.afterCasInit=function(t,o){return t?void csdn.baiduSearch(t,function(t){needInsertBaidu?(window.csdn.isRunBaidu=!0,showResult(t)):e()}):(e(),!1)},csdn.baiduSearchInstallError=e,setTimeout(e,2e3)):showResult()}function trackAddblogKey(e,t,o,n){var i=/("con"\:)"(.*)"/;e=e.replace(i,function(e,t,n){return t+'"'+n+",index_"+o+'"'}),e=JSON.parse(e),$(t).data(n,e)}function trackAddBaiduKey(e,t){return t+=1,e=$(e).get(0),e.setAttribute("data-flg","true"),$(e).addClass("recommend-box-ident"),e=e.outerHTML,window.csdn.trackRecord.baiduTrackCount=t,{insertObj:e,j:t}}function trackAdd(e,t,o){var n;"article"===t&&(n=$(".recommend-box").children("div.recommend-item-box").not("[data-flg]"));for(var i=0;i<n.length;i++){var a=n[i].dataset.trackView,s=n[i].dataset.trackClick;(a||s)&&(e+=1,window.csdn.trackRecord.articleTrackCount=e,n[i].setAttribute("data-flg","true")),a&&trackAddblogKey(a,n[i],e,"trackView"),s&&trackAddblogKey(s,n[i],e,"trackClick")}o&&o(n)}function showResult(e){var t=[],o=window.csdn.trackRecord.articleTrackCount;trackAdd(o,"article",function(o){var n,i,a,s,r=1,c=recommendRegularDomainArr||["blog.csdn.net/.+/article/details/","download.csdn.net/download/","edu.csdn.net/course/detail/ "],l=new RegExp(c.join("|"));if(!e||e.length<=0)return!1;if(e&&e.length>0)for(var d=0;d<e.length;d++)curentUrl.indexOf(e[d].linkUrl.split("?")[0])===-1&&l.test(e[d].linkUrl)&&""!==e[d].title&&d<10&&t.push(baidudatatemp(e[d],d+1));if(t&&t.length>0){s=window.csdn.trackRecord.baiduTrackCount;for(var d=r;d<=o.length;d+=2){var m=d-r+1;if(i=t[m-1]?t[m-1]:"",a=t[m]?t[m]:"",!($(o[d])&&$(o[d]).length>0))break;i&&(n=trackAddBaiduKey(i,s),i=n.insertObj,s=n.j),a&&(n=trackAddBaiduKey(a,s),a=n.insertObj,s=n.j),$(o[d]).after(i+a),s=window.csdn.trackRecord.baiduTrackCount}}if(t.length>0){var p=o.length%2===0?o.length:o.length-1;if(o.length<t.length)for(var d=t.length-1;d>p;d--){var h=$(".recommend-box").children("div.recommend-item-box").last();t[d]&&(n=trackAddBaiduKey(t[d],s),s=n.j),n.insertObj&&h.after(n.insertObj)}}})}var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"https://csdnimg.cn/public/highlighter/ZeroClipboard.swf",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.hide=function(){this.style.display="none"},e.show=function(){this.style.display="block"},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),o=-1,n=0;n<t.length;n++)t[n]==e&&(o=n,n=t.length);return o>-1&&(t.splice(o,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))},e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,o){var n=this.clients[e];n&&n.receiveEvent(t,o)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){for(var o={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};e&&e!=t;)o.left+=e.offsetLeft,o.top+=e.offsetTop,e=e.offsetParent;return o},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};if(ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,o){this.domElement=ZeroClipboard.$(e);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.$(t):"undefined"==typeof t&&(t=document.getElementsByTagName("body")[0]);var i=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div");var a=this.div.style;if(a.position="absolute",a.left=""+i.left+"px",a.top=""+i.top+"px",a.width=""+i.width+"px",a.height=""+i.height+"px",a.zIndex=n,"object"==typeof o)for(addedStyle in o)a[addedStyle]=o[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height)},getHTML:function(e,t){var o="",n="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";o+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else o+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return o},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),o=this.div.style;o.left=""+t.left+"px",o.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var o=this;return void setTimeout(function(){o.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var o=this;return setTimeout(function(){o.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var n=0,i=this.handlers[e].length;n<i;n++){var a=this.handlers[e][n];"function"==typeof a?a(this,t):"object"==typeof a&&2==a.length?a[0][a[1]](this,t):"string"==typeof a&&window[a](this,t)}}},$(document).ready(function(){$(".article_content pre").each(function(){var e=$(this);if(void 0!=e.attr("class")){if(e.attr("class").indexOf("brush:")!=-1){var t=e.attr("class").split(";")[0].split(":")[1];e.attr("name","code"),e.attr("class",t)}e.attr("class")&&e.attr("name","code")}}),$(".article_content textarea[name=code]").each(function(){var e=$(this);e.attr("class").indexOf(":")!=-1&&e.attr("class",e.attr("class").split(":")[0])}),window.clipboardData||setTimeout("setCopyBtn()",500)}),function(e){function t(e,t){var o=t-e+1;return Math.floor(Math.random()*o+e)}e.fn.extend({selection:function(){var t="",o=this[0];if(document.selection){var n=document.selection.createRange();t=n.text}else if("number"==typeof o.selectionStart){var i=o.selectionStart,a=o.selectionEnd;i!=a&&(t=o.value.substring(i,a))}return e.trim(t)},parseHtml:function(t){var o=this[0],n=e(this).val();if(document.selection){var i=document.selection.createRange();i.text?i.text=t:e(this).val(n+t)}else if("number"==typeof o.selectionStart){var a=o.selectionStart,s=o.selectionEnd,r=n.substring(0,a),c=n.substring(s);e(this).val(r+t+c)}else e(this).val(n+t);o.selectionStart=o.selectionEnd=e(this).val().length,o.focus()}});var o=e("div.pulllog-box");o.find("button.btn-close").click(function(){o.remove()}),o.find(".pulllog-login").click(function(e){getCookie("UserName")?window.location.reload():(window.csdn.loginBox.show(),e.preventDefault())});var n=function(t){var t=t?t:"body",o=e(t+" img"),n=navigator.userAgent.toLowerCase();return 0!==o.length&&(0===e(".imgViewDom").length&&(e("body").append('<div class="imgViewDom disnone" style="display: none;"><img src=""></div>'),e("body").append("<style>.imgViewDom{display:none;position:fixed;top:0;left:0;height:100%;width:100%;z-index:99999999;background: rgba(255, 255, 255,0.8);overflow: auto;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;display:-moz-box;-moz-box-align:center;-moz-box-pack:center;display:-o-box;-o-box-align:center;-o-box-pack:center;display:-ms-box;-ms-box-align:center;-ms-box-pack:center; display:box;box-align:center;box-pack:center;}.imgViewDom img{cursor: zoom-out;}</style>"),e(".imgViewDom").on("click",function(){n.indexOf("windows ")>-1?e("body").css({overflow:"auto","margin-left":"0"}):e("body").css({overflow:"auto"}),e(".imgViewDom").fadeOut(500).children("img").attr("src","")})),void o.bind("click",function(t){t.currentTarget.src&&(e(".imgViewDom").fadeIn(500).children("img").css({width:t.currentTarget.naturalWidth,height:t.currentTarget.naturalheight}).attr("src",t.currentTarget.src),n.indexOf("windows ")>-1?e("body").css({overflow:"hidden","margin-left":"-17px"}):e("body").css({overflow:"hidden"}))}))};window.CSDNviewImg=n,window.csdn=window.csdn||{},window.csdn.random_num=t}(jQuery),function(){function e(){o.hasClass("no-login")||($("div.article_content").removeAttr("style"),0==$(".column-mask").length&&$(".hide-article-box").hide(),o.hasClass("fans_read_more")&&($("#btnAttent").hasClass("attented")||$("#btnAttent").trigger("click")))}function t(t,o){var n=$(window).height(),i=$("div.article_content"),a=i.height();$("#btn-readmore").attr("height",o),a>n*o?(i.css({height:n*o+"px",overflow:"hidden"}),t.click(e)):t.parent().hide()}var o=$(".btn-readmore");$(".article-footer-bookmark-btn").click(window.csdn.articleCollection),o.length>0||$(".vip-mask").length>0?currentUserName?t(o,3):t(o,2):0==$(".column-mask").length&&$(".hide-article-box").addClass("hide-article-style");var n=window.location.hash,i=RegExp(/\#/);n.match(i)&&($(".btn-readmore").parent().hide(),$("div.article_content").removeAttr("style")),window.csdn=window.csdn?window.csdn:{},window.csdn.clearReadMoreBtn=e}(),$(function(){function e(){this.commentForm=$("#commentform"),this.txtComment=$("#comment_content"),this.btnShowMore=$("#btnMoreComment"),this.commentBox=$("div.comment-list-box"),this.commentPagination=$("#commentPage"),this.commentCountObj=this.commentForm.find("em"),this.commentTxt=$("#comment_replyId"),this.cancelBtn=$(".btn-cancel"),this.curH=0,this.pageCount=0,this.pageIndex=1,this.curFloor=1,this.commentCount=0,this.commentPageObj=null,this.commentFontLimit=1e3,this.firstLoad=!0,this.pageSize=10,this.showAll=!1,this.initTxt(),this.init(),this.firstLoad=!1,this.bindBtn(),this.bindTxt(),this.commentCode(),this.comment(),this.cancelBtnBindEvent(),this.getPagination=function(e){var t=function(t,o){if(t){o.pageCount=t.page_count,o.commentCount=t.floor_count,o.commentPageObj.render({count:t.floor_count,current:e}),o.renderData(t.list);var n=$(".comment-box").offset().top-44;$(document).scrollTop(n)}};this.getData(e,t)},this.bindLikedClick()}function t(){$(document).on("click",".btn-heart .comment-like",function(){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;var e=$(this).hasClass("liked")?"undigg":"digg",t=$(this).data("commentid"),o=this;$.post(digg_base_url+"/phoenix/comment/"+e,{article_id:articleId,comment_id:t},function(e){var t=$(o).find("span").text()?parseInt($(o).find("span").text()):0;if($(o).hasClass("liked")){var n=t-1;n=n>0?n:"",$(o).removeClass("liked"),$(o).find(".unclickImg").css("display","inline-block"),$(o).find(".clickedImg").css("display","none"),$(o).find("span").text(n).css("color","#999AAA")}else $(o).addClass("liked"),$(o).find(".unclickImg").css("display","none"),$(o).find(".clickedImg").css("display","inline-block"),$(o).find("span").text(t+1).css("color","#E33E33");$(o).parents(".right-box").children(".comment-like").html($(o).html()),$(".comment-like-img-hover").css("display","none")})})}function o(e){var t="";return 0==e.length?"":(t=e.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"))}function n(){currentUserName||csdn.loginBox.show()}function i(e){var t=window.location.href.split(e)[1];return null!=t?t:""}var a='<img class="read-reply-img" src="'+blogUrl+'static_files/template/new_img/replyComment.png">';e.prototype.getData=function(e,t){var o=this;o.pageIndex=void 0!==e?e:o.pageIndex;var n=null;$.ajax({url:"/"+username+"/phoenix/comment/list/"+articleId+"?page="+o.pageIndex+"&size="+o.pageSize+"&tree_type=1&comment_id="+s,type:"post",success:function(e){1===e.result&&(n=e.data,n?(o.commentBox.show(),o.commentPagination.show(),o.curFloor=n.floor_count-(o.pageIndex-1)*o.pageSize,$(".comment-sofa-flag").remove()):(o.commentBox.hide(),o.commentPagination.hide()))},complete:function(){t&&t(n,o)}})},e.prototype.init=function(){window.localStorage.getItem("AM_comment_data")&&window.localStorage.getItem("AM_comment_id")==articleId&&(this.txtComment[0].focus(),this.txtComment.val(window.localStorage.getItem("AM_comment_data")),this.commentTxt.val(window.localStorage.getItem("AM_comment_replyId")),$(window).scrollTop(this.txtComment.offset().top));var e=function(e,t){if(null!==e){var o="";if(currentUserName||(o="登录 "),t.pageCount=e.page_count,t.curFloor=e.floor_count,t.commentCount=e.floor_count,t.btnShowMore.html("<span>"+o+"查看 "+e.count+' 条热评</span><svg class="icon open" aria-hidden="true"><use xlink:href="#csdnc-chevrondown"></use></svg>'),t.renderData(e.list),currentUserName?(t.btnShowMore.parent("div.opt-box").remove(),t.showAll=!0,e.floor_count<=t.pageSize?t.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&t.commentPagination.removeClass("d-none"),t.showAll||t.countInitHeight()):e.floor_count<=3?(t.btnShowMore.parent("div.opt-box").remove(),t.commentBox.css("max-height","none"),t.showAll=!0):(e.floor_count<=t.pageSize?t.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&t.commentPagination.removeClass("d-none"),t.showAll||t.countInitHeight()),null===t.commentPageObj?e.page_count>0&&(t.commentPageObj=new Paging,t.commentPageObj.init({target:t.commentPagination,pagesize:t.pageSize,count:t.commentCount,current:1,firstTpl:"",lastTpl:"",callback:function(e,o,n){t.getPagination(e)}})):t.commentPageObj.render({count:t.commentCount}),""!==s){var n=$("div.comment-list-box ul.comment-list:first-child").find("li.comment-line-box");$(n).each(function(e,t){if(s==$(t).data("commentid")){var o=$(t).parents("li.replay-box");o.length>0&&o.parent("ul.comment-list").find("a.btn-read-reply").trigger("click");var i=$(document).scrollTop(),a=$("#csdn-toolbar").height(),r=16;i<52&&(a=2*a);var c=$(n)[e].offsetTop-a-r;return setTimeout(function(){$("html,body").animate({scrollTop:c},200)},850),!1}})}}else t.btnShowMore.parent("div.opt-box").remove(),t.showAll=!0};commentscount||!this.firstLoad?this.getData(1,e):$(".comment-sofa-flag").show()},e.prototype.countInitHeight=function(){var e=this;e.curH=0,e.commentBox.find(">ul.comment-list:lt(3)").each(function(t){e.curH+=$(this).height()}),e.curH+=27,e.commentBox.css("max-height",e.curH)},e.prototype.initTxt=function(){var e=this;e.txtComment.focus(function(){e.commentCountObj.text(1e3-parseInt($(this).val().length)),$(this).addClass("open"),$(".bt-comment-show").hide()}),$("body").click(function(t){$(t.target).is("div.comment-edit-box *")||$(t.target).is(".btn-reply")||$(t.target).is(".right_recommend_comment_button *")||$(t.target).is(".reply")||(e.txtComment.removeClass("open"),$(".bt-comment-show").show(),e.commentCountObj.text(e.commentFontLimit))}),$(".bt-comment-show").click(function(){$(this).hide(),e.txtComment.addClass("open")}),$(".tool-item-comment").click(function(){setTimeout(function(){$(".bt-comment-show").hide(),e.txtComment.addClass("open")},0)})},e.prototype.bindBtn=function(){function e(e){return"svg"===this.nodeName||currentUserName?(t.commentBox.css("max-height","none"),t.commentCount>t.pageSize&&t.commentPagination.removeClass("d-none"),$(this).parent("div.opt-box").remove(),$(this).parent().parent("div.opt-box").remove(),t.showAll=!0,t.curH=0,void(window.event?window.event.cancelBubble=!0:e.stopPropagation())):(csdn.loginBox.show(),!1)}var t=this;t.commentBox.click(function(e){var o=$(e.target).data("type");if(void 0!==o)switch(o){case"report":window.csdn.userLogin.loadAjax(function(e){showReport(!0)});break;case"reply":if(currentUserName){if(currentUserName){var n=$(e.target).parents("li.comment-line-box"),i={};i.Id=n.data("commentid"),i.User=n.data("replyname"),i.text=n.find(".name").text()+(n.find(".nick-name").length?" 回复 "+n.find(".nick-name").text():"")+n.find(".comment").text(),t.cancelBtnToggle(!0),t.replayComment(i),t.txtComment.trigger("focus")}var s=$(document).scrollTop(),r=$("#csdn-toolbar").height();s<52&&(r=2*r),$("html,body").animate({scrollTop:$("#commentsedit").offset().top-r-8},500)}else csdn.loginBox.show();break;case"readreply":var c=$(e.target).parents("li").siblings("li.replay-box");$(e.target).hasClass("open")?($(e.target).removeClass("open"),$(e.target).html(a+$(e.target).data("count")),c.hide(),t.curH&&t.commentBox.css("max-height",t.curH)):($(e.target).addClass("open").data("txt",$(e.target).text()),$(e.target).html(a+"收起评论"),c.show(),t.curH&&t.commentBox.css("max-height",t.curH+c.height()+10));break;case"delete":var l=$(e.target).parents("li.comment-line-box"),d=l.data("commentid");t.deleteComment(d)}}),this.btnShowMore.click(e),this.btnShowMore.find("svg").click(e),$(document).on("click",".show_loginbox",function(){if(t.setStorage()){var e=getCookie("UserName"),o="https://me.csdn.net/"+e;window.open(o,"_blank")}})},e.prototype.bindTxt=function(){var e=this;this.txtComment.blur(function(){}),this.txtComment.keyup(function(){var t=e.commentCountObj,o=e.commentFontLimit-$(this).val().length;o<0?t.text(0):t.text(o),$(this).val().length||$(this).data("replayUser")?e.cancelBtnToggle(!0):e.cancelBtnToggle(!1)})},e.prototype.renderData=function(e){this.commentBox.html("");for(var t='<ul class="comment-list">',o=0;o<e.length;o++){var n=e[o].info,i=e[o].sub,a=void 0!==i?i.length:0,t='<ul class="comment-list">';if(t+=this.buildHtml(n,a,!0),a>0){t+='<li class="replay-box" style="display:none">',t+='<ul class="comment-list">';for(var s=0;s<a;s++){var r=i[s];t+=this.buildHtml(r,0,!1)}t+="</ul>",t+="</li>"}t+="</ul>",this.commentBox.append($(t)),$(".comment-list-container").show(),this.curFloor--}$("pre.code2").each(function(e,t){hljs.highlightBlock(t),hljs.getLines(t.innerHTML).length>1?hljs.lineNumbersBlock(t):hljs.lineNumbersBlock(t,{singleLine:!0}),$(t).removeClass("code2")})},e.prototype.buildHtml=function(e,t,o){var n="",i="",s="",r="";if(o){var c=this.getQuoteInfo(e.Content);c.length>1?(s=c[1],r=this.getCodeInfo(c[2]),r=this.replaceNewUBB(r),n=this.getCodeInfo(c[3]),n=this.replaceNewUBB(n),n='<span class="quote">引用“<font color="black">'+s+"</font>”的评论：</span><blockquote>"+r+"</blockquote>"+n):(n=this.replaceNewUBB(c[0]),n=this.getCodeInfo(n))}else{var c=this.getReplyInfo(e.Content);i=c[1];var l=c.length>2?this.getQuoteInfo(c[2]):this.getQuoteInfo(c[0]);l.length>1?(s=l[1],r=this.getCodeInfo(l[2]),r=this.replaceNewUBB(r),n=this.getCodeInfo(l[3]),n=this.replaceNewUBB(n),n='<span class="quote">引用“<font color="black">'+s+"</font>”的评论：</span><blockquote>"+r+"</blockquote>"+n):(n=this.replaceNewUBB(l[0]),n=this.getCodeInfo(n))}var d="https://me.csdn.net/";if(e.tag){var m="https://blog.csdn.net/blogdevteam/article/details/103478461",p='<a class="comment-tag" target="_blank" href="'+m+'">'+e.tag+'<img class="comment-tag-img" src="'+blogUrl+'static_files/template/new_img/commentTagArrow.png" title="'+e.tag+'"></a>';h=e.ParentTag?'<a class="comment-tag" target="_blank" href="'+m+'">'+e.ParentTag+'<img class="comment-tag-img" src="'+blogUrl+'static_files/template/new_img/commentTagArrow.png" title="'+e.ParentTag+'"></a>':""}else var p="",h="";var u="匿名用户"!=e.UserName?d+e.UserName:"javascript:void(0);",f='<li class="comment-line-box d-flex" data-commentid="'+e.CommentId+'" data-replyname="'+e.UserName+'">      <a target="_blank" href="'+u+'"><img src="'+e.Avatar+'" username="'+e.UserName+'" alt="'+e.UserName+'" class="avatar"></a>        <div class="right-box '+(i?"reply-box":"")+'">          <div class="new-info-box clearfix">          '+p+'<a target="_blank" href="'+u+'"><span class="name '+(o?"":"mr-8")+'">'+(o?e.NickName+"</a>":e.NickName+'</a></span><span class="text">回复</span>'+h+'<span class="nick-name">'+(e.ParentNickName?e.ParentNickName:""))+'<span class="colon">:</span></span>'+(o?'<span class="floor-num"></span>':'<span class="text"></span>')+'<span class="new-comment">'+n+'</span><span class="date" title="'+e.PostTime+'">'+e.date_format+"</span>"+(t>0?'<a class="btn-read-reply" data-type="readreply" data-count="查看回复('+t+')">'+a+"查看回复("+t+")</a>":"")+'<span class="new-opt-box new-opt-box-bg"><a class="btn  btn-report" data-type="report">举报</a>'+(isOwner||currentUserName===e.UserName?'<a class="btn btn-delete" data-type="delete"><img src="'+blogUrl+'static_files/template/new_img/deleteComment.png" title="删除">删除</a>':"")+'<a class="btn  btn-reply" data-type="reply"><img src="'+blogUrl+'static_files/template/new_img/replyOtherComment.png" title="回复">回复</a><a class="btn  btn-heart" data-type="heart"><div class="comment-like '+(e.digg_arr.indexOf(currentUserName)!=-1?"liked":"")+'" data-commentid='+e.CommentId+' ><img class="comment-like-img unclickImg" src="'+blogUrl+'static_files/template/new_img/commentUnHeart.png" title="点赞"><img class="comment-like-img comment-like-img-hover" style="display:none" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞"><img class="comment-like-img clickedImg" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞">'+(0!==parseInt(e.Digg)?"<span>"+e.Digg+"</span>":"<span></span>")+'</div></a></span></div><div class="comment-like '+(e.digg_arr.indexOf(currentUserName)!=-1?"liked":"")+'" data-commentid='+e.CommentId+' ><img class="comment-like-img unclickImg" src="'+blogUrl+'static_files/template/new_img/commentUnHeart.png" title="点赞"><img class="comment-like-img comment-like-img-hover" style="display:none" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞"><img class="comment-like-img clickedImg" src="'+blogUrl+'static_files/template/new_img/commentActiveHeart.png" title="点赞">'+(0!==parseInt(e.Digg)?"<span>"+e.Digg+"</span>":"<span></span>")+"</div></div></li>";return f},e.prototype.getReplyInfo=function(e){var t=e.split(/\[reply]([\s\S]*?)\[\/reply\][\r\n]{0,1}/gi);return t},e.prototype.getQuoteInfo=function(e){var t=e.split(/\[quote=([\w#\.]+)\]([\s\S]*?)\[\/quote\][\r\n]{0,2}/gi);return t},e.prototype.getCodeInfo=function(e){var t=e.replace(/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/gi,function(e,t,n){return""==$.trim(n)?"":'<pre name="code2" class="code2 '+t+'"><code>'+o(n.trim())+"</code></pre>"});return t},e.prototype.replaceNewUBB=function(e){return e=e.replace(/\[face\]([^\]]+):([^\]]+)\[\/face\]/gi,'<img src="//g.csdnimg.cn/static/face/$1/$2" alt="表情包"/>')},e.prototype.replayComment=function(e){var t=e.Id,o=e.User;this.txtComment.attr("placeholder","回复："+e.text).data("replayUser",o),this.commentTxt.val(t)},e.prototype.commentCode=function(){var e=this;$("#commentCode").find("a").click(function(){var t=e.txtComment[0].value,o="[code="+$(this).data("code")+"]\n"+t+"\n[/code]",n=e.txtComment.val();e.txtComment.val(n+o)})},e.prototype.comment=function(){function e(e){if(!currentUserName)return t.setStorage();window.localStorage.removeItem("AM_comment_data");var o=$(e).find(":submit"),n={replyId:t.commentTxt.val(),content:t.txtComment.val()};if(n.replyId&&$.trim(n.content)&&(n.content="[reply]"+t.txtComment.data("replayUser")+"[/reply]"+n.content),""===$.trim(n.content))alert("请填写评论内容");else{var i=blog_address+"/phoenix/comment/submit?id="+articleId;$.ajax({url:i,type:"post",dataType:"json",data:n,beforeSend:function(){o.prop("disabled",!0).val("提交中")},success:function(e){1===e.result?(t.commentForm.trigger("reset"),t.commentTxt.val(""),t.txtComment.data("replayUser","").attr("placeholder","想对作者说点什么"),t.cancelBtnToggle(!1),s=e.data,t.init(),t.removeStorage()):e.info?alert(e.info):alert(e.content?e.content:"评论失败请重试")},complete:function(){o.prop("disabled",!1).val("发表评论")}})}return!1}var t=this;$("#commentform").submit(function(t){t.preventDefault();var o=this;try{window.csdn.userLogin.loadAjax(function(t){e(o)})}catch(n){e(o)}})},e.prototype.deleteComment=function(e){var t=this,o=$("#article_id").val();if(confirm("你确定要删除这篇评论吗？")){var n=blog_address+"/phoenix/comment/delete",i={commentId:e,filename:o};$.post(n,i,function(e){1===e.result?t.commentPageObj.go(t.pageIndex):(alert(e.content),location.reload())})}},e.prototype.insertRightCommnetPrompt=function(){if(window.localStorage.getItem("AM_comment_Prompt_show"))return!1;window.localStorage.setItem("AM_comment_Prompt_show",!0);var e=$(".right_recommend_comment"),t=$(".right_recommend_comment_Prompt");t.length>0?t.fadeIn(300):e.prepend('<div class="right_recommend_comment_Prompt"><div class="text">新的评论在这里</div><div class="arrow"></div></div>'),setTimeout(function(){$(".right_recommend_comment_Prompt").fadeOut(500)},4e3)},e.prototype.setStorage=function(){return window.localStorage.setItem("AM_comment_data",this.txtComment.val()),window.localStorage.setItem("AM_comment_replyId",this.commentTxt.val()),window.localStorage.setItem("AM_comment_id",articleId),!!getCookie("UserName")||(window.csdn.loginBox.show(),!1)},e.prototype.removeStorage=function(){window.localStorage.removeItem("AM_comment_data"),window.localStorage.removeItem("AM_comment_replyId"),window.localStorage.removeItem("AM_comment_id")},e.prototype.bindLikedClick=t,e.prototype.cancelBtnToggle=function(e){e?this.cancelBtn.removeClass("d-none"):this.cancelBtn.addClass("d-none")},e.prototype.cancelBtnBindEvent=function(){var e=this;this.cancelBtn.on("click",function(){e.txtComment.attr("placeholder","想对作者说点什么").data("replayUser","").val(""),e.commentTxt.val(""),e.cancelBtnToggle(!1)})},$(document).on("mouseenter",".btn-heart .comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block")):($(this).find(".unclickImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block"))}),$(document).on("mouseleave",".btn-heart .comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none")):($(this).find(".unclickImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none"))}),$(document).on("focus","#comment_content",n);var s=i("#comments_");window.csdn.comments?window.csdn.comments:{},window.csdn.Comments=e,window.csdn.comments=new window.csdn.Comments}),$(function(){if(1===articleType){var e=$("main .blog-content-box")[0],t=document.querySelector(".creativecommons span a");t=t?t.innerText:"CC 4.0 BY-SA";var o="\r\n————————————————\r\n版权声明：本文为CSDN博主「"+nickName+"」的原创文章，遵循"+t+"版权协议，转载请附上原文出处链接及本声明。\r\n原文链接："+curentUrl;csdn.copyright.init(e,o)}}),$(function(){function e(e,o){if(!(o.length<2)){var n="";n+="<ol>";for(var i=0,a=0,s=0,r=0,c=0,l=0;l<o.length;l++){var d=parseInt(o[l].tagName.substr(1),10);if(i||(i=d),d>i?(n+='<li class="sub-box"><ol>',a++):d<i&&a>0&&(n+="</ol></li>",a--),1==d)for(;a>0;)n+="</ol>",a--;i=d;var m=o.eq(l).text();if(m=/^[\s]+$/.test(m)?m:m.replace(/^[\s]+/g,""),m=t(m),m.length>0)switch(d){case 1:++s,r=0,c=0;var p="";1===s&&(p="active"),n+="<li class="+p+'><a href="#t'+l+'">'+m+"</a></li>",o.eq(l).html('<a name="t'+l+'"></a>'+o.eq(l).html());break;case 2:++r,c=0,n+='<li><a href="#t'+l+'">'+m+"</a></li>",o.eq(l).html('<a name="t'+l+'"></a>'+o.eq(l).html());break;case 3:++c,n+='<li><a href="#t'+l+'">'+m+"</a></li>",o.eq(l).html('<a name="t'+l+'"></a>'+o.eq(l).html())}}for(;a>0;)n+="</ol>",a--;return n}}function t(e){return e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})}function o(e){function t(e){return $(e).each(function(e,n){n.children&&t(n.children),++o}),o}var o=0;return t(e)}function n(e,t,o){var n=$("div.groupfile"),a=n.find("div.toc-box"),r=n.find("div.opt-box");if(t<=2&&$("#liTocBox").remove(),t>2&&"0"==isShowThird&&$("#liTocBox").css("display","block"),t<=2&&"1"==isShowThird&&$(".groupfile").remove(),t<=2&&($("#blog_artical_directory").hide(),$(".left_menu .menu_con").hide()),!$(".first_li")[0]){a.html(o(e,d)),s(t,r,a);var c=!1;$("#liTocBox").hover(function(){$("#liTocBox .toc-container").finish().fadeIn(500),$(this).find("button.btn-toc").addClass("active"),c=!1},function(e){c=!0;var t=$(this);setTimeout(function(){c&&($("#liTocBox .toc-container").finish().fadeOut(500),t.find("button.btn-toc").removeClass("active"))},300)})}i()}function i(){var e=$("#csdn-toolbar").height()+8,t="",o="";""!==String($(".groupfile .toc-box").text()).replace(/(^\s*)|(\s*$)/g,"")?($(".kind_person").length>0&&($("#addAdBox").length>0&&""!==String($("#addAdBox").html()).replace(/(^\s*)|(\s*$)/g,"")?($("#addAdBox").css({
display:"block","margin-top":"8px"}),$("#groupfile").css("max-height","40%"),t=Math.floor(Number($("#groupfile").height())+Number($("#addAdBox").height())+16+e)+"px",$(".kind_person").css({position:"fixed",top:t,bottom:"0","min-height":"auto","padding-bottom":"24px"})):($("#addAdBox").remove(),$("#groupfile").css("max-height","49%"),t=Math.floor(Number($("#groupfile").height())+8+e)+"px",$(".kind_person").css({position:"fixed",top:t,bottom:"0","padding-bottom":"24px"}))),$(".recommend-list-box").length>0&&($(".recommend-top-adbox").length>0&&""!==String($(".recommend-top-adbox").html()).replace(/(^\s*)|(\s*$)/g,"")?($(".recommend-top-adbox").css({display:"block","margin-top":"8px"}),$("#groupfile").css("max-height","40%"),o=Math.floor(Number($("#groupfile").height())+Number($(".recommend-top-adbox").height())+16+e)+"px",$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0",height:"auto","padding-bottom":"24px"})):($(".recommend-top-adbox").remove(),$("#groupfile").css("max-height","49%"),o=Math.floor(Number($("#groupfile").height())+8+e)+"px",$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0",height:"auto","padding-bottom":"24px"}))),$("#recommend-right").css({top:e})):($("#asidedirectory").remove(),$("#groupfile").remove(),$(".kind_person").length>0&&($("#addAdBox").length>0&&""!==String($("#addAdBox").html()).replace(/(^\s*)|(\s*$)/g,"")?($("#addAdBox").css({display:"block","margin-top":"8px"}),t=Math.floor(Number($("#addAdBox").height())+e)+8+"px",$(".kind_person").css({position:"fixed",top:t,bottom:"0","padding-bottom":"24px"})):($("#addAdBox").remove(),t=e,$(".kind_person").css({position:"fixed",top:t,bottom:"0","padding-bottom":"24px"}))),$(".recommend-list-box").length>0&&($(".recommend-top-adbox").length>0&&""!==String($("#addAdBox").html()).replace(/(^\s*)|(\s*$)/g,"")?($(".recommend-top-adbox").css({display:"block","margin-top":"8px"}),o=Math.floor(Number($(".recommend-top-adbox").height())+8+e)+"px",$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0","padding-bottom":"24px",height:"auto"})):($(".recommend-top-adbox").remove(),o=e,$(".recommend-list-box").css({position:"fixed",top:o,bottom:"0","padding-bottom":"24px",height:"auto"}))),$("#recommend-right").css({top:e-8}))}function a(){for(var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,t=0;t<f.length-1;t++){if(e<=f[0]){var o="#"+$(u[0]).find("a")[0].name,n=$("#groupfile").find('a[href="'+o+'"]')[0],i=$("#directory").find('a[href="'+o+'"]')[0];$(n).parent().addClass("active"),$(i).parent().addClass("active")}if(f[t]<=e&&e<=f[t+1]){var o="#"+$(u[t]).find("a")[0].name,n=$("#groupfile").find('a[href="'+o+'"]')[0],i=$("#directory").find('a[href="'+o+'"]')[0];$(n).parent().addClass("active"),$(i).parent().addClass("active"),$(n).length&&$("#groupfile .align-items-stretch").animate({scrollTop:$(n)[0].offsetTop+"px"},0),$(i).length&&$("#directory .align-items-stretch").animate({scrollTop:$(i)[0].offsetTop+"px"},0)}}}function s(e,t,o){if(e>9){var n=25*$("div.toc-box").find("li:not(.sub-box)").length,i=225,a=n-i,s=0;t.find("button.btn-opt").click(function(){$(this).hasClass("nomore")||($(this).hasClass("prev")?(s-=25,o.scrollTop(s),s<=0&&$(this).addClass("nomore")):(s+=25,s>=25*(e-17)&&(s=25*(e-17)),o.scrollTop(s),s>=a&&$(this).addClass("nomore")),$(this).siblings().removeClass("nomore"))})}else t.remove()}function r(){function e(t){$(".openvippay")[0]||window.csdn.clearReadMoreBtn(),o.off("click",e)}function t(){var e=window.location.href,t=document.title;setTimeout(function(){history.pushState(null,t,e)},0)}var o=$(".toc-container .toc-box ol li a");return 0!==o.length&&(o.click(e),void o.click(t))}function c(e){var t="<ol>";return $(e).each(function(e,o){t+=l(o,e)}),t+"</ol>"}function l(e,t){return e.children.length?"<li><a>"+e.title+'</a></li><li class="sub-box">'+c(e.children)+"</li>":"<li><a>"+e.title+"</a></li>"}for(var d=$("#article_content").find("h1,h2,h3"),m=0;m<d.length;m++)d.eq(m).html('<a name="t'+m+'"></a>'+d.eq(m).html());if($(".vip_article")[0]){var p=articleDetailUrl.split("/"),h=blogUrl+"/pheapi/article/dir/"+p[p.length-1];$.ajax({type:"GET",url:h,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){e.data&&(n(e.data,o(e.data),c),r(),$("#groupfile .toc-box ol li a").each(function(e,t){t.href="#t"+e}),$("#directory .toc-box ol li a").each(function(e,t){t.href="#t"+e}))}})}else n("",d.length,e),r();var u=$("#content_views").find("h1,h2,h3"),f=[],g=$("#content_views").offset().top,v=$("#content_views").height(),b=$("#csdn-toolbar").height();if($(u).each(function(e,t){f.push($(t)[0].offsetTop+g-2*b)}),f.push(v+g),$(window).scroll(function(){$(".groupfile .toc-box li").removeClass("active"),a()}),a(),$(document).on("click",".groupfile .toc-box li a",function(e){$(".groupfile .toc-box li").removeClass("active"),$(this).parent().addClass("active")}),$(window).resize(function(){i()}),$(".hide-article-box").length&&"none"!==$(".hide-article-box").css("display")){for(var x=$(".hide-article-box").offset().top,w=0,y=0;y<f.length-1;y++)f[y]<=x&&x<=f[y+1]&&(w=y+1);var k=u.slice(w,u.length);$(".vip_article")[0]&&$(document).click(".groupfile .toc-box ol a",function(e){if(parseInt($(e.target)[0].hash.split("#t")[1])>w){var t=$("#getVipUrl").attr("href");t.indexOf("vip")>-1?window.open(t+"?utm_source=brv&sale_source=BgsN7mSaYF"):window.open(t)}}),$(".btn-readmore")[0]&&k.each(function(e,t){$(".groupfile .toc-box ol").find('a[href="#'+$(k[e]).find("a")[0].name+'"]').click(function(){$(".btn-readmore").trigger("click"),$(".btn-readmore").hasClass("no-login")&&window.open("https://passport.csdn.net/account/login"),$("#btn-readmore-zk").trigger("click")})})}$(document).ready(function(){$(document).on("click","#content_views a[href*=#],div.toc-box a[href*=#],li.tool-item-comment a[href*=#]",function(){var e=$("#csdn-toolbar").height(),t=$(document).scrollTop();if(t<52&&(e=2*e),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=$(this.hash);if(o=o.length&&o||$("[name="+this.hash.slice(1)+"]"),o.length){var n=o.offset().top;return $("html,body").animate({scrollTop:n-e},500),!1}}}),setTimeout(function(){if(window.location.href.indexOf("#comments")>-1){var e=$("#csdn-toolbar").height();$("html,body").animate({scrollTop:$("#commentBox").offset().top-e-48},500)}},1e3)})}),$(function(){var e=$('#article_content a[href^="#"]');e.each(function(e){$(this).attr("target","_self")})}),$(function(){function e(){function e(){$("#publicPrompt").remove(),$(document).off("click",".publicPrompt-close",e),$(document).off("click",".publicPrompt-mask",e)}var t={success:'<svg class="icon success" aria-hidden="true"><use xlink:href="#csdnc-check"></use></svg>'};this.data={},this.data.status="success",this.data.titleStr="收藏成功",this.data.textStr='已收藏至 <a href="https://i.csdn.net/#/uc/favorite-list" target="_blank">个人中心</a>',this.data.imgUrl="",this.init=function(e){return $.extend(this.data,e),this.addStyle(),this.bindDom(),this},this.show=function(e){$.extend(this.data,e),this.insetStructure(this.data)},this.bindDom=function(){$(document).on("click",".publicPrompt-close",e),$(document).on("click",".publicPrompt-mask",e)},this.insetStructure=function(e){var o='<div id="publicPrompt"><div class="publicPrompt-mask"></div><div class="publicPrompt-content"><div class="publicPrompt-title-box"><h3 class="publicPrompt-title">'+t[e.status]+e.titleStr+'</h3><span class="publicPrompt-close"><svg class="icon" aria-hidden="true"><use xlink:href="#csdnc-times"></use></svg></span><div class="publicPrompt-text">'+e.textStr+'</div><img class="publicPrompt-qr" src="'+e.imgUrl+'" alt=""><div class="publicPrompt-footer-text">下载APP随时查看</div></div></div></div>';$("body").append(o)},this.addStyle=function(){var e=document.createElement("style");e.type="text/css",e.innerHTML=["#publicPrompt{","position: fixed;z-index: 99999;top: 0;left: 0;width: 100%;height: 100%;","}","#publicPrompt .publicPrompt-mask{","position: absolute;top: 0;left: 0;width: 100%;height: 100%;","background-color: rgba(0,0,0,0.5);","}","#publicPrompt .publicPrompt-content{","position: absolute;z-index: 2;top: 30%;left: 50%;margin-left: -175px;","background-color: #fff;width: 350px;padding: 16px;","}","#publicPrompt .publicPrompt-content .publicPrompt-title{","font-size: 16px;color: #3D3D3D;","}","#publicPrompt .publicPrompt-title svg{margin-right:4px;}","#publicPrompt .publicPrompt-title .success{fill:#89cb62;width: 20px;height: 20px;vertical-align: sub;}","#publicPrompt .publicPrompt-close{","position: absolute;top: 16px;right: 16px;cursor: pointer;","}","#publicPrompt .publicPrompt-text{","text-align: center;margin-top: 16px;margin-bottom: 16px;font-size: 14px;","}","#publicPrompt .publicPrompt-text a{","color: #3399EA;text-decoration: underline;","}","#publicPrompt .publicPrompt-qr{","display: block;width: 116px;height: 116px;padding: 8px;margin: 0 auto;border: 1px solid #EBEBEB;","}",".publicPrompt-footer-text{","font-size: 14px;color: #4D4D4D;margin-top:8px;text-align: center;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(e)}}window.csdn?window.csdn:{},window.csdn.publicPrompt=e}),function(){function e(){if(RecommendBlogExpertList.length<3)return!1;var e=0;o(e),$(".blog-expert-recommend-box").show(),RecommendBlogExpertList.length>3&&$(".blog-expert-load-new").show(),$(document).on("click",".blog-expert-button-follow",n)}function t(e){var t="";e.is_expert&&(t='<svg class="icon" aria-hidden="true"><use xlink:href="#csdnc-blogexpert"></use></svg>');var o="btn-red-follow",n="关注";e.is_followed&&(o="btn-gray-follow attented",n='<span class="hover-hide">已关注</span><span class="hover-show">取消</span>');var i=window.location.href,a={mod:"popu_709",dest:i,ab:"new"};a=JSON.stringify(a);var s={mod:"popu_710",dest:i,ab:"new"};s=JSON.stringify(s);var r='<div class="blog-expert-item"><div class="blog-expert-info-box"><div class="blog-expert-img-box"  data-report-click='+a+'><a href="'+blogUrl+e.user_name+'" target="_blank"><img src="'+e.avatar+'"  username="'+e.user_name+'" alt="'+e.nick_name+'" title="'+e.nick_name+'">'+t+"</a><span data-report-click="+s+'><span class="blog-expert-button-follow '+o+'" data-name='+e.user_name+" data-nick="+e.nick_name+">"+n+'</span></span></div><div class="info"><span data-report-click='+a+'><a href="'+blogUrl+e.user_name+'" target="_blank"><h5 class="oneline" title="'+e.nick_name+'">'+e.nick_name+'</h5></a></span>  <p><p class="article-num" title="'+e.article_count+'篇文章"> '+e.article_count+'篇文章</p><p class="article-num" title="排名:'+e.rank+'"> 排名:'+e.rank+"</p></p></div></div></div>";return r}function o(e){var o=$(".blog-expert-flexbox");o.attr("data-report-view",'{"mod":"popu_709","dest":"'+window.location.href+'","ab":"new"}');for(var n="",i=e;i<e+4;i++)"object"==typeof RecommendBlogExpertList[i]&&(n+=t(RecommendBlogExpertList[i]));return $(".blog-expert-item").hide(),o.append(n),i}function n(e){var t=e.target;currentUserName||(window.location.href=loginUrl);var o=$(t).hasClass("blog-expert-button-follow"),n=o?$(t):$(t).parent(".blog-expert-button-follow"),s=n.hasClass("attented");s?a(n):i(n)}function i(e){var t="//me.csdn.net/api/relation/create?source=blog";$.ajax({type:"POST",url:t,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:e.data("name")}),xhrFields:{withCredentials:!0},success:function(t){t="object"!=typeof t?JSON.parse(t):t,200==t.code?e.html('<span class="hover-hide">已关注</span><span class="hover-show">取消</span>').removeClass("btn-red-follow").addClass("btn-gray-follow attented"):alert(t.message)},error:function(e){return""!=e.responseText&&(e="object"!=typeof e.responseText?JSON.parse(e.responseText):e.responseText,void(400102==e.code?window.csdn.loginBox.show():alert(e.message)))}})}function a(e){var t="//me.csdn.net/api/relation/destroy?source=blog";$.ajax({type:"POST",url:t,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:e.data("name")}),xhrFields:{withCredentials:!0},success:function(t){t="object"!=typeof t?JSON.parse(t):t,200==t.code?e.html("关注").addClass("btn-red-follow").removeClass("btn-gray-follow attented"):console.error(t.msg)}})}function s(){return p.pageIdx>1?(p.noMoreData||(p.noMoreData=!0,p.endBox.show()),!1):($.ajax({url:"/"+username+"/article/GetRelatedArticles?pageindex="+p.pageIdx+"&articleId="+articleId,beforeSend:function(){p.loadingBox.show(),"object"==typeof p.BlogCommendStartIndex&&(p.BlogCommendStartIndex=$(".type_blog, .recommend-download-box").length-1)},success:function(e){p.loadingBox.hide(),e=JSON.parse(e),e.content?(p.loadingBox.before(e.content),m()):(p.noMoreData=!0,p.endBox.show())},complete:function(){p.loading=!1}}),void p.pageIdx++)}function r(){var e=p.listBox.offset().top,t=$(window).height();if(!p.noMoreData&&!p.loading){var o=e+p.listBox.height()-t,n=$(document).scrollTop();o<n&&(p.loading=!0,s())}}function c(e,t,o){var n=null,i=null;return function(){var a=+new Date;i||(i=a),a-i>o?(clearTimeout(n),e(),i=a):(clearTimeout(n),n=setTimeout(function(){e()},t))}}function l(){$(".recommend-item-box .info-box .namebox").each(function(e,t){$(t).css("left",-($(t).outerWidth()/2)+8).data("isSetLeft",!0)})}function d(){var e=10;$(".recommend-item-box").each(function(t,o){if(!$(o).hasClass("recommend-download-box")){if($(o).find(".img-box").length>0)var n=$(o).find(".img-box").outerWidth();else var n=0;var i=$(o).find(".info-box").outerWidth();$(o).find("h4").width($(o).width()-n-i-5*e),$(o).find(".content ").width($(o).width()-n)}})}function m(){d(),l()}window.csdn=window.csdn?window.csdn:{},window.csdn&&(window.csdn.trackRecord=window.csdn.trackRecord?window.csdn.trackRecord:{},window.csdn.trackRecord.articleTrackCount=-1,window.csdn.trackRecord.baiduTrackCount=-1);var p={datacount:recommendCount,pageIdx:2,adIdx:1,listBox:$("div.recommend-box"),loadingBox:$("div.recommend-box").find("div.recommend-loading-box"),endBox:$("div.recommend-box").find("div.recommend-end-box"),noMoreData:!1,loading:!1,BlogCommendStartIndex:null};$(".blog-expert-recommend-box").length>0&&e(),remoteData&&remoteData(),$(document).scroll(c(r,500,2e3)),m();var h=null;$(window).resize(function(){h&&clearTimeout(h),h=setTimeout(function(){m()},50)})}(),$(function(){function e(e){var o=t(e),n="https://me.csdn.net/api/relation/check?follows="+o;return $.ajax({type:"GET",url:n,dataType:"json",xhrFields:{withCredentials:!0},success:function(t){if(200==t.code)for(var o=0;o<e.length;o++)for(var n in t.data)e[o].user_name.toLowerCase()==n.toLowerCase()&&(e[o].is_followed=t.data[n]);$(".blog-expert-button-follow").each(function(e){var o=$(this).data("name");o&&t.data[o]&&$(this).html('<span class="hover-hide">已关注</span><span class="hover-show">取消</span>').removeClass("btn-red-follow").addClass("btn-gray-follow attented")})}}),e}function t(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].user_name);return t.join(",")}currentUserName&&RecommendBlogExpertList.length>0&&e(RecommendBlogExpertList),$(document).on("click",".recommend-box .text-truncate a,.recommend-box .desc a",function(e){$(this).parents(".recommend-item-box").find(".text-truncate a").addClass("click-record")})}),$(function(){function e(e,t){c.hide(),d=e,d?s.text("您举报的评论来自文章："):s.text("举报内容："),r.css({"z-index":9999}).show(),a.css({"z-index":1e4}).show()}function t(){a.find("#frmReport").trigger("reset"),r.css({"z-index":150}).hide(),a.hide(),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,n="",i=""}var o=' <div class="report-box">  <div class="pos-boxer">      <div class="pos-content">          <div class="box-title">              <p>举报</p>              <svg  class="icon btn-close" aria-hidden="true">                    <use xlink:href="#csdnc-times"></use>              </svg>          </div>          <div class="box-header">              <div class="box-top"><span>选择你想要举报的内容（必选）</span></div>              <div class="box-botoom">                  <ul>                      <li data="1"  type="nei">内容涉黄</li>                      <li data="2" type="nei">政治相关</li>                      <li data="3" type="nei">内容抄袭</li>                      <li data="4" type="nei">涉嫌广告</li>                      <li data="5" type="nei">内容侵权</li>                      <li data="6" type="nei">侮辱谩骂</li>                      <li data="8" type="nei">样式问题</li>                      <li data="7" type="nei">其他</li>                  </ul>              </div>          </div>          <div>          <div class="box-content" >          </div>          <div class="box-content" >          </div>                    <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>原文链接（必填）</span>                      </div>                      <div class="box-content-bottom" style="padding-bottom: 16px;">                        <div class="box-input" style="height: 32px;line-height: 32px;">                        <input class="content-input" type="text" id="originalurl" name="originalurl" placeholder="请输入原文链接">                        </div>                      </div>          </div>          <div class="box-content" >          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">包含不实信息</li>                              <li sub_type="2">涉及个人隐私</li>                          </ul>                      </div>          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">侮辱谩骂</li>                              <li sub_type="2">诽谤</li>                          </ul>                  </div>          </div>          <div class="box-content" style="display:none;">                <div class="box-content-top">                        <span>请选择具体原因（必选）</span>                    </div>                <div class="box-content-bottom">                        <ul>                            <li sub_type="1">搬家样式</li>                            <li sub_type="2">博文样式</li>                        </ul>                </div>          </div>          <div class="box-content" style="display:none;">          </div>          </div>            <div id="cllcont" style="display:none;">            <div class="box-content-top">              <span class="box-content-span">补充说明（选填）</span>            </div>                <div class="box-content-bottom">                  <div class="box-input" >                    <textarea class="ipt ipt-textarea" style="padding:0;"  name="description"  placeholder="请详细描述您的举报内容"></textarea>                  </div>                </div>            </div>            </div>      <div class="pos-footer">          <p class="btn-close">取消</p>          <p class="box-active">确定</p>      </div>  </div></div>';$("body").append(o);var n="",i="";$(".box-botoom ul li").on("click",function(){flag=!1,$(this).addClass("box-active").siblings().removeClass("box-active"),n=$(this).attr("data"),$(".content-input").val(""),$(".box-content").eq($(this).index()).show().siblings().hide(),"6"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),"8"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),$(".ipt-textarea")[0].value="",$(".box-content-bottom ul li").removeClass("box-active"),"7"==$(this).attr("data")?$(".box-content-span").html("补充说明（必填）"):$(".box-content-span").html("补充说明（选填）"),i=""}),$(".box-content-bottom ul li").on("click",function(){$(this).addClass("box-active").siblings().removeClass("box-active"),i=$(this).attr("sub_type"),flag=!0});var a=$("div.report-box"),s=a.find("#reptTit"),r=$("div.mask-dark"),c=$("#rptOriginalurl"),l=a.find('textarea[name="description"]'),d=!1,m=0;a.find(".btn-close").click(t),r.click(t);var p="";$(".box-active").on("click",function(){if(!n)return alert("请选择你想要举报的内容！"),!1;switch(n){case"3":if(p=$("#originalurl").val(),""==p||"http://"==p)return alert("举报抄袭必须提供原创文章地址！"),$("#originalurl").focus(),!1;break;case"7":if(p=l.val(),!p)return alert("请填写补充说明！"),l.focus(),!1;break;case"5":if(!flag)return alert("请选择具体原因"),!1;break;case"6":if(!flag)return alert("请选择具体原因"),!1;break;case"8":if(!flag)return alert("请选择具体原因"),!1}var e={articleId:articleId,commentId:d?m:0,reportSubType:i,reportType:n,originalurl:p,report_other_content:l.val(),report_description:l.val(),currentUserName:currentUserName,blogUser:username};$.post(blog_address+"/common/report?id="+articleId+"&t="+(d?3:2),e,function(e){1==e.result?(t(),sessionStorage.removeItem("usename"),sessionStorage.removeItem("articleId"),alert("感谢您的举报，我们会尽快审核！"),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,n="",i="",p="",t()):e.content&&alert(e.content)})}),$("div.comment-box").on("click","a.btn-report",function(){m=$(this).parents("li.comment-line-box").data("commentid")}),window.showReport=e}),$(function(){function e(){$("code.has-numbering").each(function(e,t){$(t).css("position","absolute"),$(t).parent("pre.prettyprint").css({position:"relative",height:$(t).outerHeight()+20+"px"})})}window.csdn=window.csdn?window.csdn:{},window.csdn.setSafariCodestyle=e}),window.csdn.insertcallbackBlock=computePos,csdn.afterReportView=function(e,t){var o=$(e);o&&o.hasClass("recommend-box-ident")&&(o.addClass("box-ident-animation"),setTimeout(function(){o.removeClass("recommend-box-ident"),o.removeClass("box-ident-animation")},1600))},baiduKey&&!needInsertBaidu){var BaiduDataL=$('a[strategy*="searchFromBaidu"]').length,str="keyword="+baiduKey+"&count="+BaiduDataL;trackByGraylog("storage_baidu_exist?"+str)}$(function(){function e(){var e=$("#toolBarBox").offset().top,t=$("#toolBarBox").offset().left,o=$("#toolBarBox").height(),n=$("#toolBarBox").width(),i=window.innerHeight,a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e+o-i-a>0?($("#toolBarBox .left-toolbox").css({position:"fixed",left:t+"px",bottom:"0",width:n+"px"}),$("#toolBarBox").addClass("more-toolbox-active")):($("#toolBarBox .left-toolbox").css({position:"relative",left:"0px",bottom:"0",width:n+"px"}),$("#toolBarBox").removeClass("more-toolbox-active"))}function t(){new QRCode(document.getElementById("shareCode"),{text:share_card_url+"&utm_source=po_popup",width:144,height:144,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}function o(){var e=(new QRCode(document.getElementById("shareQrCode"),{text:articleDetailUrl,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),$("#share-bg-shadow"));$("#btnQrShare").click(function(){e.show()}),e.find("a.btn-close").click(function(){e.hide()})}function n(e){getCookie("UserName")?$.get(blog_address+"/phoenix/article/digg?ArticleId="+articleId,function(e){0===e.status?i(!1,e.msg):(e.status?($("#is-like-img").hide(),$("#is-like-imgactive").show(),$("#is-like-span").text("已赞"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",dest:"",extend1:'{"praise":1}'})):($("#is-like-imgactive").hide(),$("#is-like-img").show(),$("#is-like-span").text("点赞"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",dest:"",extend1:'{"praise":0}'})),$("#spanCount").text(e.digg))}):window.csdn.loginBox.show()}function i(e,t){if(m.skinBoxshadow.html(""),e){var o='<div class="reward-success reward-tip">      <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>      <span>'+t+"</span>      </div>";m.skinBoxshadow.append(o)}else{var n='<div class="reward-error reward-tip">      <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>      <span>'+t+"</span>      </div>";m.skinBoxshadow.append(n)}m.skinBoxshadow.fadeIn(200),setTimeout(function(){m.skinBoxshadow.fadeOut(200),m.skinBoxshadow.html("")},1500)}function a(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show()}function s(){if(getCookie("UserName")){var e=articleDetailUrl.split("/article/details/")[1];$.ajax({url:blogUrl+"phoenix/web/v1/isCollect",type:"GET",xhrFields:{withCredentials:!0},data:{articleId:e},success:function(e){200==e.code&&e.data.status?($("#is-collection-img").hide(),$("#is-collection-imgactive").show(),$("#is-collection").text("已收藏"),$("#blog_detail_zk_collection .un-collect-status").hide(),$("#blog_detail_zk_collection .collect-status").show(),$("#blog_detail_zk_collection span.name").text("已收藏")):($("#is-collection-img").show(),$("#is-collection-imgactive").hide(),$("#is-collection").text("收藏"),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),$("#blog_detail_zk_collection span.name").text("收藏"))}})}}function r(e){e?m.isHaveMoney.html('<a class="reward-sure">确定</a>'):m.isHaveMoney.html('<span class="tip">您的C币不足，请先充值哦～</span><a target="_blank" href="https://mall.csdn.net/vip" data-report-query="utm_source=RewardVip">去充值</a>')}function i(e,t){if(m.skinBoxshadow.html(""),e){var o='<div class="reward-success reward-tip">      <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>      <span>'+t+"</span>      </div>";m.skinBoxshadow.append(o)}else{var n='<div class="reward-error reward-tip">      <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>      <span>'+t+"</span>      </div>";m.skinBoxshadow.append(n)}m.skinBoxshadow.fadeIn(200),setTimeout(function(){m.skinBoxshadow.fadeOut(200),m.skinBoxshadow.html("")},1500)}function c(e,t){$(document).mouseup(function(o){if(!e.is(o.target)&&0===e.has(o.target).length&&!t.is(o.target)&&0===t.has(o.target).length){e.fadeOut(200);var n=o||window.e;n&&n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}})}$(document).on("mouseover",".article-bar-top .time",function(){var e=$(this).offset().left,t=($(this).width(),$(this).parents().find(".article-bar-top").offset().left);$(".article-info-box .up-time").css({left:e-t-24}).show()}),$(document).on("mouseout",".article-bar-top .time",function(){$(".article-info-box .up-time").hide()});var l=!0;$(document).on("click",".article-info-box .slide-toggle",function(){l?$(this).text("收起"):$(this).text("版权"),$(this).parents(".article-info-box").find(".slide-content-box").slideToggle(),l=!l});var d='{"mod":"1585297308_001","dest":"'+articleDetailUrl+'","extend1":"pc","ab":"new"}';canRead&&($(".hide-article-box").length?$(document).on("click",".hide-article-box .btn-readmore",function(){$("#content_views").after("<div data-report-view="+d+"><div>")}):$("#content_views").after("<div data-report-view="+d+"><div>")),$("#blog_detail_zk_collection").click(function(){window.csdn.articleCollection()}),o(),t(),$("#tool-share").on("click",function(){$("#tool-QRcode").show()}),$("#QRcode-close").on("click",function(){$("#tool-QRcode").fadeOut(200)}),$("#QRcode-phong-close").on("click",function(){$("#tool-QRcode-phong").fadeOut(200)}),c($("#tool-QRcode"),$("#tool-share")),$("#tool-phong").on("click",function(){$("#tool-QRcode-phong").show()}),c($("#tool-QRcode-phong"),$("#tool-phong")),$("#tool-reward").on("click",function(){$("#reward").show()}),$("#is-like").on("click",function(){n()}),$("#btn-readmore-zk").on("click",function(){$("#btn-readmore").show()}),$("#btn-readmore").on("click",function(){var t=$(window).height(),o=t*$(this).attr("height");$(".hide-article-box").show(),$("div.article_content")[0].style="height:"+o+"px; overflow: hidden;",e(),$("#btn-readmore").hide(),$(".btn-readmore-gz")&&$(".btn-readmore-gz span").text("阅读全文")}),$(document).on("click",".is-collection",function(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show()}),$(document).on("click",".tool-more .article-report",function(){getCookie("UserName")?showReport(!1):window.csdn.loginBox.show()}),e(),$(window).scroll(function(){e()}),$(window).resize(function(){e()}),$(".btn-readmore").click(e);var m={rewardItem:$(".to-reward"),rewardBox:$("#reward"),skinBoxshadow:$(".skin-boxshadow"),isHaveMoney:$("#reward .is-have-money"),coinNum:null,coinNumInit:5,rewardShowMore:$(".reward-user-box")};""!==articleDetailUrl||void 0!==articleDetailUrl?collectionUrl=articleDetailUrl:collectionUrl=curentUrl,window.csdn.collectionBox.params={url:collectionUrl,title:articleTitle,description:articleDesc,author:username,source_id:articleId,source:"blog",collectionCallBack:function(e){e?($("#is-collection-imgactive").show(),$("#is-collection-img").hide(),$("#is-collection").text("已收藏"),$("#blog_detail_zk_collection .un-collect-status").hide(),$("#blog_detail_zk_collection .collect-status").show(),$("#blog_detail_zk_collection span.name").text("已收藏")):($("#is-collection-imgactive").hide(),$("#is-collection-img").show(),$("#is-collection").text("收藏"),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),$("#blog_detail_zk_collection span.name").text("收藏"))}},window.csdn=window.csdn?window.csdn:{},window.csdn.articleCollection=a,s();var m={rewardItem:$("#toolreward"),rewardBox:$("#reward"),skinBoxshadow:$(".skin-boxshadow"),isHaveMoney:$("#reward .is-have-money"),coinNum:null,coinNumInit:5,rewardShowMore:$(".reward-user-box")};m.rewardItem.on("click",function(){getCookie("UserName")?$.ajax({url:blogUrl+"pheapi/reward/coin",type:"GET",xhrFields:{withCredentials:!0
},success:function(e){e.status?(m.coinNum=e.data.coin,r(m.coinNumInit>=m.coinNum||m.rewardBox.find(".choosed").data("id")>=m.coinNum?!1:!0)):r(!1),m.rewardBox.fadeIn(200)},error:function(){m.rewardBox.fadeIn(200)}}):window.csdn.loginBox.show()}),m.rewardBox.find(".choose_money").click(function(){m.rewardBox.find(".choose_money").removeClass("choosed"),$(this).addClass("choosed"),r($(this).data("id")<=m.coinNum?!0:!1)}),m.rewardBox.on("click",".reward-sure",function(){var e=m.rewardBox.find(".choosed").data("id"),t=articleDetailUrl.split("details/")[1];$.ajax({url:blogUrl+"pheapi/reward/reward_coin",type:"POST",data:{reward_coin:e,article_id:t},xhrFields:{withCredentials:!0},success:function(e){if(e.status){m.skinBoxshadow.html("");var t='<img style="position:fixed;margin:auto;left:0px;top:0px;right:0px;bottom:0px" src="'+blogUrl+'static_files/static_blog/images/reward.gif" alt="打赏" title="打赏">';m.skinBoxshadow.append(t),m.rewardBox.fadeOut(200),m.skinBoxshadow.fadeIn(200),setTimeout(function(){m.skinBoxshadow.fadeOut(200),m.skinBoxshadow.html(""),window.location.reload()},4e3)}else i(!1,e.msg),"余额不足"===e.msg&&r(!1)},error:function(e){i(!1,"操作失败，请重试")}})}),m.rewardBox.on("click",".reward-close",function(e){m.rewardBox.fadeOut(200);var t=e||window.e;t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0})}),"undefined"!=typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){return"undefined"==typeof Chart?void("undefined"!=typeof console&&console.log("ERROR: You must include chart.min.js on this page in order to use Chart.js")):void[].forEach.call(document.querySelectorAll("div.chartjs"),function(e){var t,o;t="undefined"!=typeof chartjs_colors?chartjs_colors:"undefined"!=typeof chartjs_colors_json?JSON.parse(chartjs_colors_json):{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,0.8)",highlightFill:"rgba(151,187,205,0.75)",highlightStroke:"rgba(151,187,205,1)",data:["#B33131","#B66F2D","#B6B330","#71B232","#33B22D","#31B272","#2DB5B5","#3172B6","#3232B6","#6E31B2","#B434AF","#B53071"]},o="undefined"!=typeof chartjs_config?chartjs_config:"undefined"!=typeof chartjs_config_json?JSON.parse(chartjs_config_json):{Bar:{animation:!1},Doughnut:{animateRotate:!1},Line:{animation:!1},Pie:{animateRotate:!1},PolarArea:{animateRotate:!1}};var n=e.getAttribute("data-chart"),i=JSON.parse(e.getAttribute("data-chart-value"));if(i&&i.length&&n){e.innerHTML="";var a=document.createElement("canvas");a.height=e.getAttribute("data-chart-height"),e.appendChild(a);var s=document.createElement("div");s.setAttribute("class","chartjs-legend"),e.appendChild(s);var r,c=a.getContext("2d"),l=new Chart(c);if("bar"!=n)for(r=0;r<i.length;r++)i[r].color=t.data[r],i[r].highlight=t.data[r];if("bar"==n||"line"==n){var d={datasets:[{label:"",fillColor:t.fillColor,strokeColor:t.strokeColor,highlightFill:t.highlightFill,highlightStroke:t.highlightStroke,data:[]}],labels:[]};for(r=0;r<i.length;r++)i[r].value&&(d.labels.push(i[r].label),d.datasets[0].data.push(i[r].value));s.innerHTML=""}"bar"==n?l.Bar(d,o.Bar):"line"==n?l.Line(d,o.Line):"polar"==n?s.innerHTML=l.PolarArea(i,o.PolarArea).generateLegend():"pie"==n?s.innerHTML=l.Pie(i,o.Pie).generateLegend():s.innerHTML=l.Doughnut(i,o.Doughnut).generateLegend()}})}),$(function(){new CSDNviewImg("#content_views");$("#content_views").find("a").click(function(e){if(this.href&&"_self"!==this.target){e.preventDefault();var t=window.open(this.href,"_blank");t.focus()}})}),$(function(){function t(e,t,n){$.get(blog_address+"/phoenix/article/privacy?articleId="+e+"&index="+t+"&reason="+n,function(e){var t=e;t.result?(alert("文章已私密！"),location.reload()):t.content?o(t.content):alert("无法私密，请到后台私密！")})}function o(e){$(".super-private").hide(),$(".private-error").height(126).show().children(".private-content").text(e)}function n(){$(".private-form").removeClass("active").addClass("no-active")}var a={markdown_line:function(){$(".markdown_views pre").addClass("prettyprint"),$("pre.prettyprint code").each(function(){var e=$(this).text().split("\n").length+($(this).hasClass("hljs")?1:0),t=$("<ul/>").addClass("pre-numbering").hide();for($(this).addClass("has-numbering").parent().append(t),i=1;i<e;i++)t.append($("<li/>").text(i));t.fadeIn(1700)}),$(".pre-numbering li").css("color","#999"),setTimeout(function(){$(".math").each(function(e,t){$(this).find("span").last().css("color","#fff")})}),setTimeout(function(){$(".toc a[target='_blank']").attr("target",""),$("a.reversefootnote,a.footnote").attr("target","")},500)},html_line:function(){function e(){$(".CopyToClipboard").each(function(){var e=new ZeroClipboard.Client;e.setHandCursor(!0),e.addEventListener("load",function(e){}),e.addEventListener("mouseOver",function(e){var t=e.movie.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),e.setText(t)}),e.addEventListener("complete",function(e,t){alert("代码已经复制到你的剪贴板。")}),e.glue(this,this.parentNode)})}$(".article_content pre").each(function(){var e=$(this);try{if(e.attr("class").indexOf("brush:")!=-1){var t=e.attr("class").split(";")[0].split(":")[1];e.attr("name","code"),e.attr("class",t)}e.attr("class")&&e.attr("name","code")}catch(o){}}),$(".article_content textarea[name=code]").each(function(){var e=$(this);e.attr("class").indexOf(":")!=-1&&e.attr("class",e.attr("class").split(":")[0])}),$(".highlighter").each(function(e,t){hljs.highlightBlock(t),hljs.lineNumbersBlock(t)}),window.clipboardData||setTimeout(e,1e3)}},s=$(".markdown_views")[0];s?(a.markdown_line(),/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&window.csdn.setSafariCodestyle()):a.html_line(),$(document).on("click",".input-mod",function(){$(".select-option").show(),$(".select-button").removeClass("rotate0").addClass("rotate180")}),$(document).on("input porpertychange",".private-input",function(){n(),$(this).val().length>120&&$(this).val($(this).val().substr(0,120)),$(".textarea-box .number").text(120-$(this).val().length),$(this).val().length>0&&$(".private-form").removeClass("no-active").addClass("active")}),$(document).on("click",".select-option li",function(){$(".super-private").height(126),$(".private-content .other").hide(),n(),$(".select-active").text($(this).text()).data("index",$(this).data("index")),$(this).data("isinput")?($(".super-private").height(240),$(".private-content .other").show()):$(".private-form").removeClass("no-active").addClass("active"),$(".select-button").addClass("rotate0").removeClass("rotate180"),$(".select-option").fadeOut()}),$(document).on("click",".select-button",function(){"block"===$(".select-option").css("display")?($(".select-option").fadeOut(),$(this).removeClass("rotate180").addClass("rotate0")):($(this).removeClass("rotate0").addClass("rotate180"),$(".select-option").fadeIn()),e.stopPropagation(),e.cancelBubble=!0}),$(document).on("click",".private-close, .close-active",function(){$(".super-private").hide(),$(".mask-dark").hide()}),$(document).on("click",".private-footer .active",function(){var e=$(".select-active").data("index"),o=$(".reason").val();e||alert("请选择原因"),text="text",t(articleId,e,o)})}),$(function(){$("article").find("table").map(function(){$(this).wrap('<div class="table-box" />')})}),!function(e){function t(){var t=navigator.userAgent.toLowerCase();return e.ActiveXObject||"ActiveXObject"in e?"ie":t.indexOf("firefox")>=0?"firefox":t.indexOf("chrome")>=0?"chrome":t.indexOf("opera")>=0?"opera":t.indexOf("safari")>=0?"safari":void 0}var o=e.document,n=function(t,n,i,a,s,r){function c(e,o,i){var a=(e+o)/2;if(i<=0||o-e<r)return a;var s="("+t+":"+a+n+")";return l(s).matches?c(a,o,i-1):c(e,a,i-1)}var l,d,m,p;e.matchMedia?l=e.matchMedia:(d=o.getElementsByTagName("head")[0],m=o.createElement("style"),d.appendChild(m),p=o.createElement("div"),p.className="mediaQueryBinarySearch",p.style.display="none",o.body.appendChild(p),l=function(e){m.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(p,null).textDecoration;return m.sheet.deleteRule(0),{matches:t}});var h=c(i,a,s);return p&&(d.removeChild(m),o.body.removeChild(p)),h},i={};i.ie=function(){return e.screen.deviceXDPI/e.screen.logicalXDPI},i.firefox=function(){return e.devicePixelRatio?e.devicePixelRatio:n("min--moz-device-pixel-ratio","",0,10,20,1e-4)},i.opera=function(){return e.outerWidth/e.innerWidth},i.chrome=function(){if(e.devicePixelRatio)return e.devicePixelRatio;var t=o.createElement("div");t.innerHTML="1",t.setAttribute("style","font:100px/1em sans-serif;-webkit-text-size-adjust:none;position: absolute;top:-100%;"),o.body.appendChild(t);var n=1e3/t.clientHeight;return n=Math.round(100*n)/100,o.body.removeChild(t),n},i.safari=function(){return e.outerWidth/e.innerWidth},e.detectZoom=function(){return i[t()]()}}(this),$(function(){function system(){var e=navigator.userAgent.toLowerCase();return e.indexOf("win")>=0?"win":e.indexOf("mac")>=0?"mac":void 0}function round2(number,fractionDigits){with(Math)return round(number*pow(10,fractionDigits))/pow(10,fractionDigits)}function iszoom(e){return"win"==e.system&&1!=e.zoom||("mac"==e.system&&e.zoom%1!=0&&e.zoom%2!=0||void 0)}function keyUpEvent(e){var t={win:{add:187,minus:189,origin:48},mac:{add:187,minus:189,origin:48}},o=t[system()];if(e.ctrlKey||e.metaKey)if(e.keyCode==o.add||e.keyCode==o.minus){var n={zoom:round2(detectZoom(),2),system:system()};LeftPopShow(iszoom(n),leftPopRendering,RenderData)}else e.keyCode!=o.add&&e.keyCode!=o.origin||BOXDOM.animate(CLOSEANI,2e3)}function keydownEvent(e){setTimeout(keyUpEvent,300,e)}function setStorage(e,t){return localStorage.setItem(e,t)}function getStorage(e){return localStorage.getItem(e)}function addStyles(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=[".leftPop{width:330px;position: fixed;font-size: 12px;","box-shadow: 0 4px 8px 0 rgba(0,0,0,0.10);padding:16px 40px 16px 16px;z-index: 100;","}",".leftPop .leftPop-close{position: absolute;right: 20px;"+e,"cursor: pointer;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(t)}function leftPopRendering(e){var t=$(".leftPop");if(t.length>0)return t.stop(!0,!1).animate(e.animate,e.animateTime),!1;var o='<svg t="1536830466687" class="icon leftPop-close" viewBox="0 0 1024 1024" version="1.1" ><title>不再显示</title><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="15859"></path></svg>';t=$('<div class="leftPop">'+o+"</div>"),addStyles(e.closeColor),t.append(e.template).css(e.style),t.appendTo($("body")).delay(2e3).animate(e.animate,e.animateTime),BOXDOM=t,$(".leftPop-close").on("click",function(){t.stop(!0,!1).animate(e.closeAnimate,e.animateTime),setStorage("leftPop",0)})}function LeftPopShow(e,t,o){var n=getStorage("leftPop");e&&null==n?t(o):BOXDOM.stop(!0,!1).animate(o.closeAnimate,o.animateTime)}var zoomData={zoom:round2(detectZoom(),2),system:system()},BOXDOM=$("leftPop");CLOSEANI={right:"-100%"};var events={win:{even:"keyup",fun:keyUpEvent},mac:{even:"keydown",fun:keydownEvent}};$(window).on(events[system()].even,events[system()].fun);var RenderData={template:"<span>你的浏览器目前处于缩放状态，页面可能会出现错位现象，建议100%大小显示。</span>",style:{right:"-100%","background-color":"#EBF5FD",top:"100px","border-left":"4px solid #70B8F0"},closeColor:"fill:#70B8F0;",animate:{right:0},closeAnimate:CLOSEANI,animateTime:2e3};LeftPopShow(iszoom(zoomData),leftPopRendering,RenderData)});